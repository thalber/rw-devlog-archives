JLJac
162

@Gimmy, my graphic pipeline is as follows: First all the &quot;inside the level&quot; sprites draw themselves on top of a black background. Then comes the level image, which does a grab pass before it draws itself. What it does is basically to decode the information of the level texture, which is the output of the level editor. In the level texture, pretty much the full range of a 32-bit rgb color is used to store information - the red channel stores depth and light circumstances, the green stores which effect color is active in the pixel, the blue stores how much of that effect color is in effect. This stuff is what makes the half page. If the depth of the pixel is less than a certain value the level image always get an alpha of 1, if it&#039;s greater it only gets an alpha of 1 if the grab texture is black in that pixel, otherwise alpha 0. Basically, everywhere where there is a sprite rendered in the room the level image has a &quot;hole&quot; punched through it so that the colors of the sprite can shine through. The shadow stuff uses a similar technique, looking up a pixel in the grab texture and deciding whether it should be shaded or not depending on if there&#039;s a sprite in that pixel. All of this needs to have direct access to the level texture, and much of it is interconnected, why it makes sense to do it in a single big shader. I don&#039;t have the 30 layers as separate textures, I just have one texture with the depth of each pixel is stored as a value 1-30.<br><br>#fire, idk, not out of the question. Some creature could perhaps create it. We don&#039;t have anything specific planned, it doesn&#039;t go all that well with the theme after all.<br><br>#glowing eyes, definitely! This is low hanging fruit. Maybe not for the lizards, as they have black eyes but a glowing <i>head</i>, but it&#039;s definitely an effect we should explore with some of the creepier darkness dwelling critters!<br><br>@markefus, I don&#039;t think I have a normal map actually, I just have a simple depth map <img src="https://web.archive.org/web/20150627030417im_/http://forums.tigsource.com/Smileys/derek/sad.gif" alt="Sad" border="0"> I&#039;ve tried to mimic some normal map action in the most recent light shader by asking a neighbouring pixel for its depth value and compare (if it&#039;s greater, we probably have a tilted surface!) but I can&#039;t really do all that much fancy stuff... <br><br>@vitorlanna thank you <img src="https://web.archive.org/web/20150627030417im_/http://forums.tigsource.com/Smileys/derek/smiley.gif" alt="Smiley" border="0"> Yeap, we have something like that planned, along with other creepy things lurking in the shadows!<br><br><b>Update 407</b><br><br>Sunlight overexposure is in!<br><br><img src="https://web.archive.org/web/20150627030417im_/http://giant.gfycat.com/JealousMatureAntelopegroundsquirrel.gif" alt="" border="0"><br><br>Still not looking all too smooth, but the technical necessities are functional, now I just have to mess around with the numbers a bit. <br><br>I&#039;m sorry progress is a bit slow these last couple of days, I&#039;ve had to spend some time looking for an apartment as I&#039;m spending a bit of time in the states. James and I have been able to have a couple of really productive talks though, so something good has been coming out of it! Now I&#039;ve got an apartment though, and from tomorrow we should be up to normal speed again!&nbsp; <img src="https://web.archive.org/web/20150627030417im_/http://forums.tigsource.com/Smileys/derek/hand-thumbsup-l.gif" alt="Hand Thumbs Up Left" border="0"> <img src="https://web.archive.org/web/20150627030417im_/http://forums.tigsource.com/Smileys/derek/hand-thumbsup-l.gif" alt="Hand Thumbs Up Left" border="0">