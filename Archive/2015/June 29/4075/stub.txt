JLJac
203

<b>Update 444</b><br><br>Doing a little stealth/sneaking push. I hope that this, together with the now implemented creature noise tracking will finally introduce stealth as a viable tool to the player. <br><br>Basically what is going on is that the old binary laser vision of creatures (is there terrain in the way yes/no?) is giving way to a soft visibility calculation for any position on the screen. <br><br>The most basic part of this is that vision deteriorates with distance. But on top of that calculation comes other stuff - for example the lizards have a forward-centered vision, meaning that their vision is better in front of them but worse in the periphery. If the vision is worse to the sides, that means that the target needs to be closer there in order to give a &quot;yes&quot; in the vision check, which causes a bubble-shaped vision cone.<br><br><img src="https://web.archive.org/web/20210308161103im_/https://giant.gfycat.com/FantasticBoldDore.gif" alt="" border="0"><br><br>You can probably see that the vision is a bit movement dependent as well - when the player is moving the vision reaches a bit further. This motion dependency for the vision can be set creature by creature, meaning we could potentially have some creature that is virtually blind unless you move, making for some tense Jurassic park-style scenes where you remain totally still as some beast is sniffing around uncomfortably close. <br><br>The main factor in the above gif is however a camouflage mechanic, which is here applied to the player when sneaking (basically when crouching). When in sneak mode the player is 50% camouflaged, which is mirrored in the lizard&#039;s halved vision range. This is the same mode that makes you pretty much soundless as you move. I hope that these two things combined will actually make sneaking a real viable tactic when traversing the environments - after posting this I will give the game a spin trying to traverse a region and see how it feels.<br><br>Also, the vision system allows for using some elements of the environment to hide.<br><br><img src="https://web.archive.org/web/20210308161103im_/https://giant.gfycat.com/HospitableFluidGoshawk.gif" alt="" border="0"><br><br><br>The water has two negative vision bonuses that can be set creature by creature. One is a simple negative that applies if either the &quot;eye&quot; position or the &quot;test&quot; position is under water, basically meaning that a creature might be able to see half as far under water or similar. The other is a negative bonus that occurs if the &quot;eye&quot; is above water and the &quot;test&quot; position is below, or vice versa. This symbolizes the surface itself as being difficult to see through with reflections etc - if you try to look down into the water you might have a harder time seeing what is going on than if you actually stick your head down there.<br><br>I don&#039;t yet know how this affect performance, but I can actually imagine it being for the better. I have put the super heavy ray-trace at the very end of this whole calculation, and of course only do it if the environmental factors, camouflage etc has not already ruled out that the vision check might be a &quot;yes&quot;. So potentially it might save a ray-trace here and there!