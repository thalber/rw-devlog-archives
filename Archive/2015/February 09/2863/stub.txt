JLJac
143

Yeah def! Would probably go under the same framework as lizard infighting, which I haven&#039;t gotten to yet. But it&#039;s a confirmed feature!<br><br>I also had this idea that if you hit the Vulture in the head it could lose its mask, and an unmasked individual would be attacked by other vultures. Still haven&#039;t really decided on that one though.<br><br><b>Update 394</b><br><br>Working on vulture-lizard interaction. Here&#039;s a gif, there&#039;s quite a bit going on here so I&#039;ll do some explaining below ~<br><br><img src="https://web.archive.org/web/20210309172824im_/http://imgwiz.com/images/2015/02/09/pVyHQ.gif" alt="" border="0"><br><br>What the heatmap shows is the anticipated threat level for each tile in the lizard&#039;s threat tracker (note that I don&#039;t <i>store </i>this data, I generate it on the fly. So the framerate drops quite a bit with this visualization, but when the AI uses it it doesn&#039;t ask for every tile, just for relevant ones).<br><br>The lizard is inside the little box, which is open in both ends. This box is a sort of temporary shelter, because the vulture can reach in there with its neck - but it&#039;s juuust short of being able to reach the whole width of the box.<br><br>Basically the lizard merges two sets of data to get this map, the distance to the threat (naturally) and an Accessibility Map. See how the tiles close to terrain are bluer? And the tiles inside the box as well? That&#039;s one of the pre baked AI maps, the Accessibility Map, for the vulture. It allows the lizard to understand that inside the box is more safe than outside it. As you can see it&#039;s staying in the box, although nervously. <br><br>Also you might notice that all terrain has some bluer tiles around it - that&#039;s just because the vulture is big and close-to-terrain tiles are considered inaccessible to it for that reason. This might actually need fixing, because just because the vulture&#039;s center of mass can get close to a floor doesn&#039;t mean its neck is unable to.<br><br>The amount with which the Accessibility Map weights in on the final threat map scales with distance. You can see this particularly clearly when the vulture moves down towards the lower-right platform, the &quot;safety&quot; of the tiles surrounding the platform is removed.<br><br>This is the same effect that also finally drives the lizard out of the box. When the vulture does its peek-a-boo over at the left side, it&#039;s much closer and the safety of the box interior is disrupted. Now the danger gradient inside the box is steep enough for it to be worth it to dash for the other exit. So the lizard goes for it and heads for the room exit up in the corner instead.<br><br>You can also see how the lizard&#039;s perception of the vulture&#039;s position is only updated when there&#039;s visual contact, which is why the heatmap is static while the vulture is moving below the box. In actuality the map shouldn&#039;t be <i>still </i>during that time, it should move with a Ghost of the vulture that the lizard tracks. But right now the Tracker has some problems with creatures that can move on big 2D planes - it considers each tile 4-way branch and immediately spawns up ghosts to follow all of them, hits the ghost cap and makes the ghosts stop. So it becomes more of a simple &quot;where did I last see the creature&quot; kind of thing. I&#039;ll get around to it.