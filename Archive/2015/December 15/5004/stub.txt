JLJac
250

@insaneinside, welcome and thank you so much! That looks really interesting, I will look into it. Also, thanks for letting me know the proper maths notation. <br><br><div class="quoteheader"><a href="https://web.archive.org/web/20210309211442/https://forums.tigsource.com/index.php?PHPSESSID=5v6h483knmtlj533iqaiaako76&amp;topic=25183.msg1205631#msg1205631">Quote from: insaneinside on December 14, 2015, 06:14:10 PM</a></div><div class="quote">Indeed, you would have trouble producing an analytical solution for a in terms of b here! &nbsp;There may be a way to determine it numerically, but I doubt it would be possible (let alone a good idea!) to do so in a shader.<br></div><br>This wouldn&#039;t be in the shader though, but in the C# code - I&#039;m trying to do the shader maths backwards in order to place a marker on the map within the game logic. As for the issue being solvable, it <i>should </i>theoretically be possible seeing how every a only has one b, if you get me &nbsp;<img src="https://web.archive.org/web/20210309211442im_/https://forums.tigsource.com/Smileys/derek/huh.gif" alt="Huh?" border="0"> Anyways, thanks a million, I&#039;ll take a closer look at your math <img src="https://web.archive.org/web/20210309211442im_/https://forums.tigsource.com/Smileys/derek/hand-thumbsup-l.gif" alt="Hand Thumbs Up Left" border="0"><br><br><b>Update 497</b><br><br>Fog of war and &quot;slow reveal&quot; animation for the map.<br><br>The fog of war is pretty straight forward. As you move through the world it draws to a texture, which is then used to determine what of the map to reveal. <br><br><a href="https://web.archive.org/web/20210309211442/http://imgwiz.com/images/2015/12/15/sX7Pf.png" target="_blank"><img src="https://web.archive.org/web/20210309211442im_/http://imgwiz.com/images/2015/12/15/sX7Pf.png" alt="" width="600" height="300" border="0"></a><br><br>The &quot;slow reveal&quot; animation looks like this (on a fully explored map, it looks slightly different if you just have bits and pieces uncovered):<br><br><img src="https://web.archive.org/web/20210309211442im_/https://giant.gfycat.com/HandmadeBonyKob.gif" alt="" border="0"><br><br>It&#039;s essentially a flood-fill out from the player&#039;s position. We implemented this for a few reasons. <br><br>One is that we want it to feel like you&#039;re accessing the slugcat&#039;s spatial memory rather than just bringing up a map on some HUD - the slugcat is an animal, not a cyborg super soldier. If it takes a bit of time, its communicated to the player that this is an act of thinking long and hard about what was where, not just &quot;bringing up the map&quot;. <br><br>Another is that that the animation doubles as a time penalty. The idea is that the filling in animation should be somewhat satisfying and fun to watch, masking the penalty aspect from the player while the actual gameplay implications of it remain; namely that you spend precious seconds just standing still. Hopefully this will incentivize fewer and longer map sessions rather than quickly tabbing in and out of it once every room. We want the player to look at the game, not the HUD - if you flicker in and out of the map you don&#039;t pay as much attention to landmarks in the environment, and looking at the environment is exactly what we want you to do as much as possible. Also we want the player to have to keep at least <i>some </i>of their route in their head, as that&#039;s part of the game&#039;s challenge.<br><br>A third one would be that your inability to move in combination with the enemy still being mobile will require you to find a good hiding spot for bringing the map up, which feels like a nice atmospheric element.<br><br>The flood fill has a bit of a bias towards where you&#039;re panning the map, so you can sort of &quot;pull&quot; it a bit in one direction or another. If you release the map button quickly, your map reveal progress is saved, but if you wait for too long or move around too much it&#039;s reset. There is some forgiveness though, if you take the map down and quickly move a few steps in some direction you can bring it up again without it being reset. <br><br>The blue color in the map signifies an edge of the explored area which is not a wall - basically somewhere you might potentially explore further. Not 100% settled on the aesthetic of that element just yet, but I think the functionality is sound, it makes a lot of sense that you should be able to easily browse for potential exploration destinations. <br><br>The dotted lines are, as I&#039;m sure you&#039;ve understood, longer connections between rooms.<br><br><img src="https://web.archive.org/web/20210309211442im_/https://giant.gfycat.com/BrokenValidJumpingbean.gif" alt="" border="0"><br><br>These have been a bit of a problem in some of the earlier regions, that were developed when we thought of the rooms more as free entities rather than part of a whole that should make geographical sense. HI (pictured) is sort of on the edge of that paradigm shift. In the gif you can see that I first pan over a bunch of rooms that make a lot of geographical sense, but then I pan to the right and things get pretty jumbled with lots of dotted lines crossing over each other and the rooms they&#039;re connected to. That latter chaotic look is part of what we&#039;re going to try to tone down in the upcoming level work. A big majority of it seems to be solvable just by re-connecting the rooms, and where that doesn&#039;t work we&#039;ll add the occasional simple little connector room. Not all of the dotted lines will necessarily be eliminated though - personally I kind of like having a few of them spicing up the look of the map. The criss-crossy chaos in the rightmost part of this map however will be worked with a bit.