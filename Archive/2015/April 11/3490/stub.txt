JLJac
174

ty ty ty! Excited for these myself!<br><br>@theEasternDragon, having them curl the tentacles would feel sorta like a waste, you&#039;d agree with me if you spent 3 hours doing the dangly physics &nbsp;<img src="https://web.archive.org/web/20210308154549im_/https://forums.tigsource.com/Smileys/derek/cheesy.gif" alt="Cheesy" border="0"> They do curl them up when carrying bats though. The stuff on their head is a shield or plate of some kind, assumedly the same material as the wings.<br><br>@tortoiseandcrow thanks! The interaction is probably just a bump together, but keep projecting, that&#039;s how the magic happens haha! White ones are slightly heavier than black ones, and they have a little bit different behavior when annoying you, but the biggest difference is in how they hunt. The black ones do migrate from a cicada room to a bat swarm room during the cycle, you can see them going back and forth if you come across one of their routes.<br><br>Both buttons at the same time seems viable, the only problem is that holding the jump button makes you jump higher, and it&#039;s quite common to want to throw something as you&#039;re jumping... Taming of creatures will actually not be all that difficult, I predict, once the Dynamic Relationships are in.<br><br><b>Update 415</b><br><br>Dynamic relationships! What is this thing I&#039;m doing? Basically in the old set-up, I wrote the AI with a sort of limited idea about the sort of interactions I&#039;d want to implement down the line. I though of creature relationships as static, one always eat the other, the other always flee. In that system it made sense to make it so that upon spotting another creature the first time, the AI takes a look at the relationship to that creature, and hands it off to a dedicated AI module to take care of it. If the relationship is &quot;Eats&quot; the creature gets sorted into the PreyTracker, if the relationship is &quot;AfraidOf&quot; it&#039;s dedicated to the ThreatTracker, etc.<br><br>This system is very limited, so what I&#039;ve been doing today is writing a RelationshipTracker, which re-evaluates the relationships to other creatures frame-by-frame, and if the relationship changes it sorts it into the correct module. Sounds easy, but there&#039;s a lot going on. Basically each module lives its own life, deleting and shuffling the creatures it keeps track of as it wants. So I have to make sure that if a relationship is moved, it&#039;s properly removed where it was, properly added where it should be, and so on. The good part is that this has solved some other problems that were hanging around, such as creatures sometimes forgetting about threats they haven&#039;t seen in a while and then being unable to add them back, and the like.<br><br><img src="https://web.archive.org/web/20210308154549im_/http://imgwiz.com/images/2015/04/11/JgqpL.png" alt="" border="0"><br><br>The main tracker in a RW creature&#039;s AI is simply called the Tracker. This one basically keeps track of what creatures I know of, and where I think they might currently be (a notion that might be correct if I&#039;m currently looking at them, and various degrees of incorrect if it was a while since I saw them). Each creature I know of has a representation in the Tracker, and this is sort of the UR representation for that creature, other modules refer to this one when thinking about a creature. <br><br>Other trackers such as PreyTracker and ThreatTracker has a reference to the creature representation in the Tracker, as well as some other module-specific data regarding that creature, such as how yummy it looks or whatever might be relevant.<br><br>The relationship tracker keeps goes through the representations in the Tracker, asks the AI what relationship it currently has to the creature in question, and if necessary moves stuff around to where they&#039;re supposed to be. For example, if I am only hunting the slugcat within a specific area, but the slugcat just exited that area, the slugcat representation needs to move from my PreyTracker to some other module.<br><br>This stuff is all pretty much just logistics. The cool stuff is an &quot;internal state&quot; for each tracked creature that is kept inside the RelationshipTracker. An internal state is a mini data structure which keeps track of some relevant stuff. Let&#039;s make a simple example: I&#039;m a cicada - I want to cause a slugcat trouble. Unless the slugcat is holding a spear, in which case I want to get away.<br><br>So the slugcat is on the ground, no spear, and its representation in my cicada head is comfortably within my AgressionTracker. Now the slugcat runs over and picks up the spear. Now the thing is that we&#039;re doing this thing where RW creature don&#039;t know what they can&#039;t know. So say that the spear and the slugcat are out of my sight as the weapon is equipped. Every frame I (the cicada) ask my RelationshipTracker what relationship I have to the slugcat. The RelationshipTracker can&#039;t access the data about whether or not the slugcat is holding a spear directly, it has to go ask the <i>internal state</i> representing the slugcat. The internal state has a bool which represents the slugcat holding a spear or not. <br><br>As I still <i>think </i>that the slugcat is unarmed, I&#039;ll continue to go after it. Until I come around a corner - then I suddenly have a visual on the slugcat, and the internal state is allowed to correct itself. The bool changes, and with this new information the nature of our inter-creature relationship shifts. The RelationshipTracker takes care of it, moves the slugcat to my ThreatTracker, and I can start scramming. <br><br>That&#039;s the theory, now let&#039;s take a look!<br><br><img src="https://web.archive.org/web/20210308154549im_/https://www.ultraimg.com/images/internalState2.gif" alt="" border="0"><br><br>So notice how the cicada is harassing the player, until the player is armed, then it decides to get out of there. The player then goes underground and actually throws the spear and is not armed any more, but because the cicada can&#039;t see this it&#039;s state of fear is unchanged. The next time it saw the player it would reconsider. This is the sort of stuff that makes me all warm inside &nbsp;<img src="https://web.archive.org/web/20210308154549im_/https://forums.tigsource.com/Smileys/derek/shrug2.gif" alt="Shrug" border="0"><br><br>The system seems to be working, the only thing that&#039;s needed now is to migrate it to the vulture and lizard as well. The other creatures use simpler AI&#039;s that won&#039;t really need this level of complexity.<br><br>I have this policy that I&#039;ll tell what I&#039;ve done, not what I hope to do, but you can probably imagine the possibilities yourself. Social stuff such as befriending creatures, angering creatures, creatures reacting dynamically to different situations like trying to save their friends from the jaws of a lizard, etc.