JLJac
163

Oh, actually I have a grab texture AND a level texture, and I use information from both of them to render the final image. A raw level texture looks like this:<br><br><a href="https://web.archive.org/web/20210308153113/http://imgwiz.com/images/2015/03/19/DmPIr.png" target="_blank"><img src="https://web.archive.org/web/20210308153113im_/http://imgwiz.com/images/2015/03/19/DmPIr.png" alt="" width="400" height="200" border="0"></a><br><br>And this is the thing where all the channels are used to store different things. The image isn&#039;t very green as you can see, mostly red and blue, because I just use the first intervals of the green channel as of now. I like to know that I have some more room in the green channel in case I want to store something else in the future.<br><br>So I use this to get the depth of each pixel, and the grab texture to get where the sprites are currently at, and if the depth is greater than 6/30 (which is where the game objects are depth-wise) and there is a sprite, I &quot;punch a hole&quot; so that the sprite is visible.<br><br>The white shader bug I&#039;m pretty sure was because of a rounding error when getting pixel coordinates, however I <i>am </i>concerned about some devices not liking the grab pass. I think there&#039;s a workaround, if I just divide the level image into two sprites - one on top of the game objects and one behind them. That&#039;d sacrifice the dynamic shadows though, but perhaps run quicker. How to do the water without a grab pass however... I&#039;ve no idea.<br><br>Thanks for the link! That&#039;s baaaasically what I&#039;m doing for the light source shader, just simpler and more contextual for the specific thing I want to achieve. Really cool to know that it&#039;s possible though, I might need it later&nbsp; <img src="https://web.archive.org/web/20210308153113im_/https://forums.tigsource.com/Smileys/derek/hand-thumbsup-r.gif" alt="Hand Thumbs Up Right" border="0"> <img src="https://web.archive.org/web/20210308153113im_/https://forums.tigsource.com/Smileys/derek/hand-thumbsup-r.gif" alt="Hand Thumbs Up Right" border="0"> <img src="https://web.archive.org/web/20210308153113im_/https://forums.tigsource.com/Smileys/derek/hand-thumbsup-r.gif" alt="Hand Thumbs Up Right" border="0"><br><br>Your comments are always helpful, the most helpful, you practically made this game by now&nbsp; <img src="https://web.archive.org/web/20210308153113im_/https://forums.tigsource.com/Smileys/derek/cheesy.gif" alt="Cheesy" border="0"> Thanks for hanging around, it&#039;s much appreciated!<br><br><b>Update 407</b><br><br>Finished some work I did on the bus yesterday, namely putting some scales on the heads of lizards as well as their bodies:<br><br><img src="https://web.archive.org/web/20210308153113im_/http://imgwiz.com/images/2015/03/19/IjFP.gif" alt="" border="0"><br><br>Nothing too complicated, just had to make sure that the sprites changed color as the lizard heads did to make it look like a part of the head. Also made these a little bit more rigid than the ones attached to the body, seems to make sense as the head is apparently of some sort of harder material. Right now I only have the two horns setup, but I might add other head decorations as well. Other decorations removed for clarity.<br><br>Other than that, messing around with the darkness stuff to make it tie in with the palette and palette fade systems already in place. Seems to work nicely! 