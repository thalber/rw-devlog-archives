JLJac
39

@ Bandreus, thanks! It&#039;s really nice to know that someone likes the project enough to know as much about it as you do <img src="https://web.archive.org/web/20141231042030im_/http://forums.tigsource.com/Smileys/derek/smiley.gif" alt="Smiley" border="0"> Right now I don&#039;t really remember how the lizard prioritization works, but I know it&#039;s based on distance somehow. However it doesn&#039;t do the distance calculation every tick, so sometimes a lizard can actually ignore a closer player. I think the system has a little commitment, like if it has started hunting one player it will continue for a while even if another player is closer. This is because otherwise two players would too easily be able to game a lizard by standing on each side of it, and quickly approaching it one by one, keeping the lizard bouncing back and forth without being able to decide which one to pursue.<br><br><div class="quoteheader"><a href="https://web.archive.org/web/20141231042030/http://forums.tigsource.com/index.php?topic=25183.msg971321#msg971321">Quote from: mokesmoe on November 28, 2013, 12:47:39 PM</a></div><div class="quote">You should be able to throw pups at flies to catch them.<br></div>This goes straight in the game. Excellent idea. <br><br><b>Update 204</b><br>It&#039;s really interesting to try to create intelligent behavior, because it certainly puts things in perspective. With a loooooot of work I&#039;ve managed to lift the pups&#039; intelligence level from -say- beetle, to -say- fish or perhaps chicken. Creating a system like this makes you realize that the intelligence of an average mammal or bird is truly staggering. The intelligence of that super slow guy in the back of the classroom in middle school is incomprehensible vast. <br><br>Still, it&#039;s a weird chimera of intelligence levels. It&#039;s more stupid than a chicken in regards of being able to understand what jumps it is able to make, but on the other hand it can flawlessly solve mazes that would be a challenge even to a human. <br><br>The lizards had the huge difficulty of them not being able to turn in corridors, making path finding at least four times as difficult. But other than that I think the pups have a more complex AI. The fact that they have to be able to flee as well as pursue added an entire dimension.<br><br>Having a game AI flee away from a particular coordinate is <i>a lot</i> more complicated than having it pursue a particular coordinate. The reason is pretty simple - because if you just back away from it you will almost always end up in a corner.<br><br>When trying to get to a coordinate, the question of where you want to go is obviously answered. When fleeing away from a coordinate, you have to figure out where to go instead. This new &quot;defensive destination&quot; (defensive because it&#039;s not where you really want to go, it&#039;s just where you want to go right now in order to put some distance between yourself and the coordinate you&#039;re fleeing from) has to have a few parameters be correct. It has to be in a direction which is away from the thing you&#039;re fleeing from, it has to be a place you can actually go to, ideally it should be a place which offers further fleeing possibilities, ie not a dead end. <br><br>Luckily the pups&#039; AI doesn&#039;t really have to be perfect, it just have to look like behavior that is somewhat reasonable for this particular imaginary creature. They will run into dead ends etc, and when a lizard is very close they go into panic mode and just run away from the lizard, whether that&#039;ll get them into a corner or not. As I said, they&#039;re fish smart, not cat smart. But because of their complex way of handling information on other creatures they still manage to surprise me some times.<br><br>I did a test where I stood on one side of a divide with the pups, like this:<br><br><img src="https://web.archive.org/web/20141231042030im_/http://oi43.tinypic.com/2rh7hjp.jpg" alt="" border="0"><br>That&#039;s a lizard down below!<br><br><img src="https://web.archive.org/web/20141231042030im_/http://oi42.tinypic.com/241ruo7.jpg" alt="" border="0"><br>I jump across, but the pups can&#039;t. They&#039;re still in &quot;follow mode&quot;, so they&#039;ll try to figure out a way to get to me.<br><br><img src="https://web.archive.org/web/20141231042030im_/http://oi44.tinypic.com/2i29zyx.jpg" alt="" border="0"><br>After a while of thinking, the path finder gives them a path and they start to move. They have still not seen the lizard. <br><br><img src="https://web.archive.org/web/20141231042030im_/http://oi42.tinypic.com/zk4843.jpg" alt="" border="0"><br>Because the path finder is aware of the level layout, but not the lizard&#039;s position, it gives the shortest path, which happens to come across the lizard. When they see the lizard their internal image of what creature is where is updated, and they flee back into the corridors to the right. In a normal game situation they would have pretty much no chance from here on, but for testing purposes I held the lizard in the courtyard to see how the pups would react. <br><br><img src="https://web.archive.org/web/20141231042030im_/http://oi44.tinypic.com/2cpcopl.jpg" alt="" border="0"><br>With their internal maps containing the information &quot;there&#039;s a lizard in the courtyard&quot; the next round of path finding tries to avoid tiles close to that area. The next attempt at approaching the player gives a much longer path around the top of the level, but still a path that takes them to their destination.<br><br><br>Sadly, this won&#039;t help them much. They just die and die and die and die and <i>die</i>. The game is very hard for <i>you</i>, and you&#039;re a much more able creature, with a <b>much </b>more powerful brain behind it. The pups can&#039;t do half of what you can, they&#039;re extremely stupid, and they don&#039;t have the advantage of seeing the entire level as you can. <br><br>They&#039;re truly pathetic, so I&#039;ll just have to hope that looking at them will induce the desired protection instinct haha! At least I&#039;m proud to have taken them to a level where they not (very often) literally run into the gaping jaws of a lizard. <br><br>In fact I don&#039;t think the AI will show much in the game - you can carry one pup on your back, and grab one with your hands, and move around that way, so you don&#039;t really have to rely much on them moving around on their own. When it comes to actual game play, I think you&#039;ll not even bring them to a level where there are lizards, but rather have them wait outside for you to hunt. Or back in the shelter, hehe. <br><br>But it was a lot of fun to program <img src="https://web.archive.org/web/20141231042030im_/http://forums.tigsource.com/Smileys/derek/smiley.gif" alt="Smiley" border="0"> Not implying that I&#039;m done&nbsp; <img src="https://web.archive.org/web/20141231042030im_/http://forums.tigsource.com/Smileys/derek/tired.gif" alt="Tired" border="0">