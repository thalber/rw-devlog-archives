JLJac
31

<b>Update 174</b><br>Made it so that a lizard can change color after it has been created, not just on creation. This allows me to have a &quot;random&quot; setting for the custom mode, where every time the lizard dies it spawns as a new color. If you set all four lizards to &quot;random&quot; and enable lizards respawning you can fight a continuous onslaught of different-colored lizards. <br><br>The challenge with this wasn&#039;t to change the lizards graphics and stuff like that, removing some body parts (such as antennas, tounges, extra long tails) and creating some was fairly easily done as well. What was troublesome was how the lizards had mapped what areas were accessable to them upon spawn, and that stuff needed to be re-mapped, ingame.<br><br>I had some pretty funny and pathetic scenes when lizards that weren&#039;t able to climb walls <i>thought </i>they were, because they were respawning after a lizard that had mapped all the wall tiles as accessable. They&#039;d scratch at the walls and wiggle around, without getting anywhere.<br><br>Luckily I had rewritten the area mapping recently, when I split it up over several frames in order to make the music play consistently. This more dynamic area mapping system could pretty neatly be tied in with the problem at hand. The only modification it needed was for it to be able to work on many lizards simultaneously. <br><br>Now, if a lizard is set to &quot;random&quot;, and you kill it, it&#039;ll pick a new color. Then, before actually respawning, it will map its accessable area fairly slowly (10 bucket-fill steps per frame) while the game is running. It won&#039;t spawn until it knows what tiles are accessable to it, with its new and current color.<br><br>The wall climbing lizards (blue and white) have several times as many tiles available to them as the floor crawlers, and thus it might take a little longer for them to respawn. On most levels it doesn&#039;t seem to exceed the standard 100-tick wait for respawning though, so mostly you won&#039;t be able to note the difference.