JLJac
120

<b>Update 361</b><br>Did some work over the weekend - mostly revisiting the Quantified Creature stuff. Quantified creatures are creatures where the individuality of the creature is irrelevant, meaning the game doesn&#039;t save health and stuff like that for the critter when in abstract space. Right now bats are the only quantified creature. Basically the game does not save these creatures in the abstract creature framework, but just saves the amount of creatures per room (actually node) as an integer.<br><br>The problem was that there were some loop holes when changing between the realized and quantified states - meaning that the populations weren&#039;t consistent. Sometimes bats would disappear or appear in the transitions between the states, and there&#039;d be situations with schr√∂dinger&#039;s bats, bats existing and then suddenly not existing, or the other way around. After re working the system, it seems it&#039;s water tight; 50 bats is 50 bats, and they only disappear or appear when eaten or spawned.<br><br>With that down, I could actually get started on bat migration patterns.<br><br>Right now I have a pretty simple system. Bats spawn in their swarm rooms, and hang around there. Every now and then the game checks <i>all </i>the swarm rooms, and finds out which is #1 and #2 in amount of bats.<br><br>#1 is assigned a &quot;spread&quot; behavior, where bats will move out of the room and spread into neighboring areas. When they get close to another swarm room, they&#039;ll start gravitating towards that one.<br><br>#2 is assigned a &quot;migrate&quot; behavior, where another swarm room is picked at random and the bats start moving towards it. On their way there, they&#039;ll most likely hit another swarm room&#039;s proximity, and start gravitating towards that one.<br><br>As this goes on for a while, #1 and #2 will be more or less emptied, while other swarm rooms will gain bats. Then the same process hits again, and a new #1 and #2 will be assigned.<br><br>The effect is that bats seem to move around between swarm rooms at random. If you&#039;re out in the world, between swarm rooms, you&#039;ll sometimes see little flocks of bats passing through your room on their way to some other place. This is the key feature, as it&#039;ll allow the player to follow those stray bats and end up in an active swarm room. <br><br>It will take some playtesting before we know the system really works. But I&#039;m happy with the fact that the system can potentially lead the player towards swarm rooms without necessarily catering too much; the bats are not trying to help you actively, they&#039;re just going about their own business and if you&#039;re clever you can take advantage of that behavior. <br><br>Today I&#039;ll fine tune it a bit further, and see how it plays out. Maybe if stray bats become too sparse, so you very seldom have any to follow, I&#039;ll add a phase at the very start of the cycle where migration is more common. 