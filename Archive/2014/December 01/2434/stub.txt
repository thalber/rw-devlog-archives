JLJac
121

<div class="quoteheader"><a href="https://web.archive.org/web/20170608092719/https://forums.tigsource.com/index.php?topic=25183.msg1086724#msg1086724">Quote from: Prinsessa on November 27, 2014, 03:27:51 am</a></div><div class="quote">The difficulty of distinction between rock and spear makes me interested in the underlying system, code-wise.<br></div>As they share basically all behavior, except from some getting stuck stuff with spears, I didn&#039;t bother with any inheritance or stuff like that, but just made them have a parameter deciding which one they are.<br><br><div class="quoteheader"><a href="https://web.archive.org/web/20170608092719/https://forums.tigsource.com/index.php?topic=25183.msg1086833#msg1086833">Quote from: jgrams on November 27, 2014, 01:05:47 pm</a></div><div class="quote">Your text editor doesn&#039;t do multi-file search/replace?<br><br>Also it looks like C# has a [NonSerializable] attribute, so you could mark only a couple of fields serializable, and expand it later...?<br></div>Hm... you mean I should search for &quot;public class &quot; and replace it with &quot;[Serializable] public class &quot; <i>everywhere</i>? Seems a bit risky, but if I do a backup of my project first it might be worth a try!<br><br><b>Update 366</b><br>Got rid of a weird bug where a lizard would get stuck on top of something, typically like a box, and never jump down. The code was meant to make it so that they shouldn&#039;t jump off ledges to places from where they wouldn&#039;t be able to get back to their den - but they should only be concerned about getting back to where they are if there&#039;s actually a den where they are, the barren top side of a box should be left behind without second though. It seems to have worked out, now they don&#039;t hesitate to jump down and continue hunting you.<br><br>Also did some work on their behavior in relationship to going into their dens as rain approaches. Basically what happened was that they have a simple AI for when they&#039;re abstracted, and a complex one for when they&#039;re realized in the room - these two would disagree some times. The &quot;actual&quot; AI would tell the lizard to go home to its hole, but once there the abstract AI would spit it out in the world again, and so it would continue. My solution was making it so that the abstract AI asks if there is a realized AI at play, and in that case outsources the decision to it. Only if the creature is fully abstract the abstract AI makes the decision itself. It seems to work, but I haven&#039;t done enough observation to know 100% just yet.<br><br>Oh, and the stunned face/dead face are back in:<br><br><img src="https://web.archive.org/web/20170608092719im_/http://imgwiz.com/images/2014/12/01/HOyKP.png" alt="" border="0"><br><br>