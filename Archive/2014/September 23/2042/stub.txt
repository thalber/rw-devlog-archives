JLJac
102

<div class="quoteheader"><a href="https://web.archive.org/web/20141229083427/http://forums.tigsource.com/index.php?topic=25183.msg1064251#msg1064251">Quote from: Vadinci on September 22, 2014, 04:06:12 AM</a></div><div class="quote">A quick question that popped up: How do the blue lizards react to the green ones? Did you make them afraid of green ones by default, or do they realise that they are being hunted and then register the hunter as a threat? Or maybe they are just completely oblivious to the fact that they are about to be eaten?&nbsp; <img src="https://web.archive.org/web/20141229083427im_/http://forums.tigsource.com/Smileys/derek/shrug2.gif" alt="Shrug" border="0"><br><br>I also loved the lizard backing up when he suddenly sees the slugcat below him in the reverse rain world gif! The way you handle the AI makes the creatures feel truly alive!<br></div>Thanks! That specific relationship is pretty much just me testing the system by this point, I don&#039;t know whether it&#039;ll make it to the final game. It might though! Or maybe green lizards could become aggressive towards blues if they&#039;re competing over prey. In any case, the creatures are going to know what other creatures to watch out for by default. They&#039;ve been living in this world a long time, so they have a hunch. If they&#039;d have to actually figure out what&#039;s dangerous and not, they&#039;d not really stand a chance - because they&#039;re unable to see through walls they&#039;d spot the threat as it was currently charging at them, and wouldn&#039;t really have any time to draw conclusions. I guess that the same rule as in actual nature could apply though: if something is bigger than you, get out of there!<br><br><div class="quoteheader"><a href="https://web.archive.org/web/20141229083427/http://forums.tigsource.com/index.php?topic=25183.msg1064252#msg1064252">Quote from: zorg on September 22, 2014, 04:15:16 AM</a></div><div class="quote">Sounds really cool.<br><br>Are multiple lizards of the same color able to hunt cooperatively? For example not choosing the same path and/or keeping a constant distance to each other?<br></div>The yellow lizards (not in yet) have cooperation as their trait, the others are rivals with varying hostility towards each other.<br><br><div class="quoteheader"><a href="https://web.archive.org/web/20141229083427/http://forums.tigsource.com/index.php?topic=25183.msg1064468#msg1064468">Quote from: Adam_ on September 22, 2014, 01:39:51 PM</a></div><div class="quote">I must admit that I haven&#039;t read all of the 102 pages, but just wanted to say that I really like the style of this project. It looks awesome and, judging from the gifs you&#039;re posting, has a great feel to it. Any chance to get an ETA on when this game will be released? <img src="https://web.archive.org/web/20141229083427im_/http://forums.tigsource.com/Smileys/derek/smiley.gif" alt="Smiley" border="0"><br></div>Thank you! No exact date yet, James and I need to pin down some design choices first!<br><br><b>Update 313</b><br>Got a utility based AI system up and running, with a little class keeping track of each utility level, multiplying it by a strength, etc. Seems to run pretty well! Also made it so that you can give it a bias to continue the current behavior, and a function that compares all utilities and returns the highest.<br><br>One problem I ran into today was this - I want the Fear parameter to tick down slowly rather than just drop as soon as the creature is out of the threat&#039;s immediate proximity. It makes sense to continue staying away for a bit, right? The problem I encountered is that even very minor threats (say 0.2 on the &quot;how afraid am I of this thing&quot;-scale) should be able to cram the Fear meter up to max if they&#039;re very close.<br><br>You might be more afraid of bears than wolves, and that should make a difference if you spot either creature on a distance. If you walk around a corner and end up eye-to-eye with either animal the difference in shock and panic wouldn&#039;t be very big though. <br><br>I have something like this in - the threat alert divides with an exponential of the distance, making it so that a threatening creature has a large blob of super scary tiles around it, while a less threatening creature is only really scary in its immediate neighborhood. <br><br>The problem is that if the AI is scared by a less scary creature, but scared to max scaredness, it still takes a long time for the Fear to tick down. I don&#039;t quite know how to tackle this one just yet. One idea is that every frame that the Fear parameter is something high, a counter ticks, and then the Fear parameter ticks down slower depending on that counter... Like, if the creature was panicked for 20 seconds it takes longer to calm down than if it was only scared for 4 seconds. Hmmmm....<br><br>I wanted to post a gif of some lizards hunting each other and the player today, but the fleeing behavior never quite got to a place where it didn&#039;t look stupid, despite some efforts to make it look more consistent. I know you guys liked the panicked hesitation, but there was a bit much of it, making it look like a flickering back and forth rather than a somewhat consistent following of a flight path.<br><br>The problem is mainly that the creatures don&#039;t commit to a flight path, instead they constantly change their mind as to where they&#039;re going. I have been able to tackle some of that today though. I identified the problem to be that when evaluating if a certain spot is a good place to flee to, you can&#039;t only look at how scary it is at the destination, you have to look at how scary it is along the path to get there. Example - a safe place that is behind a threat, meaning that you have to move by very close to the threat in order to get there. <br><br>The correct solution for this would be to actually calculate the entire path, I guess, and evaluate how scary every tile is along that path. This isn&#039;t viable though, as these evaluations have to happen several times per frame. Instead I made some kind of hacky little approximation, where I check the tiles in a straight line between the creature and the possible target position. This actually seems to get rid of the absolutely worst running-straight-into-threat scenarios.<br><br>Things are moving along rather well. I found myself playing the game as a game from time to time when playtesting, which is a first for the Unity version. The very core elements of sneaking, running and out-maneuvering are in now, and the ability to very quickly change creature relationships on a whim creates a lot of cool opportunities for experimentation. Tomorrow I hope to be able to show you something.