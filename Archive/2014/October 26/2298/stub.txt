JLJac
114

Unity, C# and Cg shaders <img src="https://web.archive.org/web/20141219143400im_/http://forums.tigsource.com/Smileys/derek/smiley.gif" alt="Smiley" border="0"><br><br>@JIMBERT, as always, thank you sooo much :D It might be the case that I&#039;ll have to write some alternative shaders and include graphics options... We&#039;ll see how it works when we have an alpha we can try on a couple of computers.<br><br><b>Update 347</b><br>I had enough of the jelly, so I scavenged the internet for some 1d wave equations. After a while I found one in some kind of academic paper, but they had also included some mathlab code - somehow I managed to lift that without necessarily understanding much of it. A lot of tuning later, we have correct(er) wave motion on the water surface:<br><br><img src="https://web.archive.org/web/20141219143400im_/http://imgwiz.com/images/2014/10/26/3VE8.gif" alt="" border="0"><br><br>I even faked a bit of interaction with the walls - if you look carefully you might see that the waves bounce off the walls a little bit. They don&#039;t do that if the water is in the &quot;in front of terrain&quot; mode, so the difference has actually been upgraded to not being <i>strictly</i> cosmetic. I also did a bit of optimization by having it not simulate the entire surface when in this &quot;behind terrain&quot; mode, instead it looks for the leftmost water tile and the rightmost, and create the surface between those.<br><br>Other than that I&#039;ve done a very slight little vertex shader on the surface of the water, which you&#039;re probably not noticing but which is giving it a bit more depth. If you can kind of see the waves on the surface a little bit, that&#039;s it. Earlier the surface was just a flat color blob, now it has some small amount of shading depending on angle. I&#039;m always hesitant about that sort of stuff, as the art style I&#039;m trying to roll with here is flat colors, but I think that if it&#039;s subtle like that it can get a pass. <br><br>Hm, what else... I tilted all the polygons in the water mesh, so that in the darker palettes (like the green water) you get a bit of an impression of light coming in at an angle through the water. And I added some droplets, which I&#039;m not perfectly happy with, I&#039;d like some more impressive splash, but a more impressive splash seems like it&#039;d take yet another custom shader, so they&#039;re good enough for now...<br><br>Now I can&#039;t really claim I need to do something else, so I better get those shaders working, haha~