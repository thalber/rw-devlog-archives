JLJac
128

Hi everybody! Took a day off yesterday, but now I&#039;m back at it&nbsp; <img src="https://web.archive.org/web/20150108045721im_/http://forums.tigsource.com/Smileys/derek/hand-thumbsup-r.gif" alt="Hand Thumbs Up Right" border="0"><br><br>@shader bug, my theory is that it&#039;s a rounding error - I had much agony before because the shaders rounded differently depending on some arbitrary factors. If it is as I think, the leftmost row of pixels in the palette texture, which are the black colors, get their references rounded down to -1, and then the coordinate wraps to the right edge and grabs some white color over there. If such is the case, some other stuff should have weird colors as well because of a consistent one pixel shift of the palette - for example the water should look really crazy. Alas, until I have my hands on a machine that is actually producing the error it&#039;s not easy to fix it <img src="https://web.archive.org/web/20150108045721im_/http://forums.tigsource.com/Smileys/derek/sad.gif" alt="Sad" border="0"><br><br>@slugcat corpse being thrown across the room bug, I&#039;ve noticed it! Because it happens after you&#039;re already dead and doesn&#039;t really have gameplay impact it hasn&#039;t ended up on the top of my list, but I&#039;m on it!<br><br>@slugcat posthumously eating flies, I&#039;m on it &gt;___&lt; Though note that you don&#039;t always die just because a lizard grabs you. It&#039;s a 50% chance I think, if the text at the bottom of the screen doesn&#039;t show up you&#039;re not actually dead yet. In the old version it was a lot of fun in multiplayer to rescue each other from the lizards, but I don&#039;t want you to feel totally comfortable and in control when lizards bite you, why I added the wheel of fortune aspect.<br><br>@christian, the first row in setup.txt defines what room you&#039;ll spawn in - you can go in the levels folder and get the names of the rooms. Thought you might want to have some more space when doing lizard arena fights. Yeah, red and yellow, and maybe we throw in some surprise. Also, white as it&#039;s implemented in the game currently is actually nowhere close to where it will eventually go - in the lingo build the white one was fundamentally different in its behavior using camouflage and a passive hunting technique rather than chasing you. Now it&#039;s basically just a variation on the blue one. Yup, spear option creates rocks because of some debug stuff I forgot to comment out <img src="https://web.archive.org/web/20150108045721im_/http://forums.tigsource.com/Smileys/derek/sad.gif" alt="Sad" border="0"> Try changing spawn location to a room with spears instead. You can&#039;t dual wield spears, they occupy &quot;one and a half&quot; slots, meaning that you can carry a spear and a small item, but not two spears.<br><br><b>Update 378</b><br>A lot of miscellaneous messing around with the snails today. Gave them some eyes, and the ability to look at other creatures, which added a lot of personality to them. Made them able to seek shelter in dens as the rain approaches. Created the entire snail/leech interaction, which took a bit of fine tuning, but I think it&#039;s somewhere in the neighborhood of where I want it by now. Basically, snails prefer not to be in water if there are leeches, but in many situations it&#039;s possible to make them fall in and interact with the leeches. Craziness ensues as the leeches try to flee from the snail&#039;s warning clicks, but don&#039;t get away quickly enough and get blasted by the sound wave thing. The funniest thing is when leeches flee towards the surface, and are then blasted from below making them fly all over the room. <br><br>Also, this weird issue:<br><br><img src="https://web.archive.org/web/20150108045721im_/http://imgwiz.com/images/2014/12/26/IlLh6.png" alt="" border="0"><br><br>Basically, the snails are supposed to be able to climb on some of the view-perpendicular walls that are not too far off into the z-dimension. All works fine, except from when the light angle is very slanted, in which case the shadow is offset to the degree where it&#039;s completely separated from the actual creature, making it look very distinctly like the creature is flying.<br><br>My horrible hack of a solution for this was to make the shader respect a specific color when asking about what pixels should be shadowed, but not when asking what pixels should be masked out. This means that every sprite of that color becomes a &quot;ghost&quot; that only exists as a shadow. <br><br>So, when the snails are climbing on walls I create an ugly blob on them and color it in that color, and then I extend it upwards at an angle and distance that matches the slant of the light. Now there is a piece of shadow connecting the snail and its shadow, making it look <i>slightly </i>more believable that it&#039;s actually holding on to that wall behind it.<br><br>In most situations the angle of the light isn&#039;t this extreme though, making it way less of a problem. But, the reason I&#039;m mentioning this, is because I can imagine some other fun stuff that could be done with this.<br><br>Imagine for example if we have some flying creatures - by just recoloring them they could be made into shadows only. So then you could have like, the shadow of the creature move over the level in a super unnerving way, before it actually arrives flying itself. Theoretically all sorts of insanity could be created, such as having creatures in one room cast shadows on the wall in anther room and whatnot, but I don&#039;t know how far it&#039;s reasonable to go with that stuff. But obviously we should do something with it, as it&#039;s no more difficult than just changing the color of a sprite.