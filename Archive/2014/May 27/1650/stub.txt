JLJac
82

<b>Update 143</b><br>Here we are!<br><br><img src="https://web.archive.org/web/20141227124050im_/http://imgwiz.com/images/2014/05/27/rXy6.gif" alt="" border="0"><br><br>The player animation is now up and running in Unity! Huge milestone! <br><br>The dynamic &quot;look for somewhere to grab&quot; engine used to be only for lizards, but now when I&#039;m making stuff more general it&#039;s accessible to players too. So for example, instead of balancing awkwardly, the player will prefer to just grab something and chill out if possible:<br><br><img src="https://web.archive.org/web/20141227124050im_/http://imgwiz.com/images/2014/05/27/R5vWZ.gif" alt="" border="0"><br><br>For the climbing, little hand sprites are rendered on top of the level graphic. Those are not in the grab texture, so they don&#039;t have a shadow, but you would totally not have noticed that if I didn&#039;t tell you <img src="https://web.archive.org/web/20141227124050im_/http://forums.tigsource.com/Smileys/derek/tongue.gif" alt="Tongue" border="0"><br><br><img src="https://web.archive.org/web/20141227124050im_/http://imgwiz.com/images/2014/05/27/crbox.gif" alt="" border="0"><br><br>There&#039;s still some stuff to do, for example the player being able to look at things and not only stare blankly into a z-dimension where nothing really exists. But looking at stuff requires ... stuff. So that has to go in first. Also there&#039;s a lot of little details that need more polish, as always.<br><br>Another cool thing happened - I actually managed to port the build! The problem where the shader&#039;s attached textures wouldn&#039;t stay bound after building was averted by making the palette and the noise map global textures instead. A hack, yes, but it&#039;ll do for now.<br><br>Then another problem came along, which was <i><b>THE WOOOOOORST</b></i>. The palette loaded but everything was a mess. After debugging by doing different palettes colored in different ways to see where the shader actually picked its colors, I got it. Buckle up, because this is horrible:<br><br><i>THE SHADER ROUNDS DIFFERENTLY IN THE PREVIEW FROM IN THE ACTUAL BUILD.</i><br><br>&nbsp;<img src="https://web.archive.org/web/20141227124050im_/http://forums.tigsource.com/Smileys/derek/mockangry.gif" alt="Mock Anger" border="0"> <img src="https://web.archive.org/web/20141227124050im_/http://forums.tigsource.com/Smileys/derek/mockangry.gif" alt="Mock Anger" border="0"> <img src="https://web.archive.org/web/20141227124050im_/http://forums.tigsource.com/Smileys/derek/mockangry.gif" alt="Mock Anger" border="0"> <img src="https://web.archive.org/web/20141227124050im_/http://forums.tigsource.com/Smileys/derek/mockangry.gif" alt="Mock Anger" border="0"> <img src="https://web.archive.org/web/20141227124050im_/http://forums.tigsource.com/Smileys/derek/mockangry.gif" alt="Mock Anger" border="0"> <img src="https://web.archive.org/web/20141227124050im_/http://forums.tigsource.com/Smileys/derek/mockangry.gif" alt="Mock Anger" border="0">&nbsp; <img src="https://web.archive.org/web/20141227124050im_/http://forums.tigsource.com/Smileys/derek/wtf.gif" alt="WTF" border="0"><br><br>Say that I wanted to fetch the sky color of the current palette, which would be pixel number 7 from the bottom. I used to sample at 7/theHeightOfThePaletteTexture which worked fine. Of course this actually samples on the <i>edge </i>between two pixels, but in the editor I got the 7th pixels color, so I was happy. In the build though, I got the other color. Easy enough to fix, I just made sure to sample at 6.5/theHeightOfThePaletteTexture. But I shouldn&#039;t have to deal with this! If Unity keeps the level of inconsistency between editor and build that I&#039;ve seen so far, it&#039;s real trouble. Like, you need to have the testing environment be somewhat the same as the real deal right? Otherwise it&#039;s like building a car on the moon and having to look at it crumble under gravity every time you try to drive it for real. Hm. <br><br>Anyways, mostly a good productive day!