JLJac
79

Thanks&nbsp; <img src="https://web.archive.org/web/20141229083417im_/http://forums.tigsource.com/Smileys/derek/smiley.gif" alt="Smiley" border="0"><br><br>Ugh, can someone clue me in on the quirks of the CG compiler? Is there a list somewhere? It certainly does <i>not </i>execute the the code linearly in the way that I&#039;d expect, that&#039;s for sure!<br><br>Example:<br><br><div class="codeheader">Code:</div><div class="code"> <br>if (light){<br>&nbsp; setColor = half4(0, 1, 0, 1);<br>}else{<br>&nbsp; setColor = half4(1, 0, 1, 1);<br>}</div><br>This code makes the lit areas green and the other areas purple, as expected. This though:<br><br><div class="codeheader">Code:</div><div class="code"> <br>if (light){<br>&nbsp; setColor = tex2D(_PalTex, float2(red/30.0, 1.0-((paletteColor + 3)/7.0)));<br>}else{<br>&nbsp; setColor = tex2D(_PalTex, float2(red/30.0, 1.0-(paletteColor/7.0)));<br>}</div><br>doesn&#039;t work, it executes the &quot;else&quot; always, never the &quot;if&quot; <img src="https://web.archive.org/web/20141229083417im_/http://forums.tigsource.com/Smileys/derek/crazy.gif" alt="Crazy" border="0"> No other changes!<br><br>This:<br><br><div class="codeheader">Code:</div><div class="code"> <br>&nbsp;if (light)<br>&nbsp; &nbsp;paletteColor += 3;<br><br>&nbsp;setColor = tex2D(_PalTex, float2(red/30.0, 1.0-(paletteColor/7.0)));<br></div><br>works, and according to my logic that is the exact same thing as the one above it. Confused&nbsp; <img src="https://web.archive.org/web/20141229083417im_/http://forums.tigsource.com/Smileys/derek/crazy.gif" alt="Crazy" border="0"><br><br>I&#039;ve been told that shaders work more in parallel an less linearly, and I guess this is that, but I just can&#039;t wrap my head around how it works. To me it seems to just be random. What&#039;s going on?