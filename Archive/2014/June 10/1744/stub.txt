JLJac
87

Maybe for the path finding it would be fun to try? The A* is a bunch of lists of countless very small, possibly value-type data structures, so it might be fitting? I have to admit though, I&#039;m still not entirely sure how to identify a bad implementation from a good one, and I have no idea how to test if I&#039;ve succeeded, so I&#039;d basically be working in the blind. Is there are profiler that can count cache misses in specific parts o the code?<br><br>Ok, so let me give you my idea on how I think this works and you guys can tell me if I&#039;ve gotten it right.<br><br>Let&#039;s say each tile in my pathfinder has three values, int generation, int value and bool reachable.<br><br>Instead of the OOP approach, where I&#039;d create a struct <br><div class="codeheader">Code:</div><div class="code">public struct PathingTile<br>{<br>&nbsp; public int generation;<br>&nbsp; public int value;<br>&nbsp; public bool reachable;<br>&nbsp; public PathingTile(int g, int v, bool r)<br>&nbsp; {<br>&nbsp; &nbsp; generation = g;//by the way, is there anyway I can assign those right away to the&nbsp; construct params rather than having to have those useless little intermediate variables?<br>&nbsp; &nbsp; value = v;<br>&nbsp; &nbsp; reachable = r;<br>&nbsp; }<br>}</div><br>and then do an array populated by those<br><br><div class="codeheader">Code:</div><div class="code">public PathingTile[,] aiMatrix = new PathingTile[50, 42];</div><br>and repeat over it for operations<br><br><div class="codeheader">Code:</div><div class="code">for (int i = 0; i &lt; width; i ++)<br>&nbsp; &nbsp;for (int a = 0; a &lt; height; a ++)<br>&nbsp; &nbsp; &nbsp; DoThing(aiMatrix[i, a]);</div><br>I&#039;d do it differently. Maybe something like this:<br><br><div class="codeheader">Code:</div><div class="code">public class PathFinder<br>{<br>&nbsp; &nbsp;public int width = 50;<br>&nbsp; &nbsp;public int height = 42;<br><br>&nbsp; &nbsp;public int[,] generations;<br>&nbsp; &nbsp;public int[,] values;<br>&nbsp; &nbsp;public bool[,] reachables;<br><br>&nbsp; &nbsp;public PathFinder()<br>&nbsp; &nbsp;{<br>&nbsp; &nbsp; &nbsp; &nbsp;generations = new int[50,42];<br>&nbsp; &nbsp; &nbsp; &nbsp;values= new int[50,42];<br>&nbsp; &nbsp; &nbsp; &nbsp;reachables= new bool[50,42];<br>&nbsp; &nbsp;}<br><br>&nbsp; &nbsp;public void Update()<br>&nbsp; &nbsp;{<br>&nbsp; &nbsp; &nbsp; for (int i = 0; i &lt; width; i++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (int a = 0; a &lt; height; a++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; doGenerationThing(i, a, generations[i, a]);<br><br>&nbsp; &nbsp; &nbsp; for (int i = 0; i &lt; width; i++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (int a = 0; a &lt; height; a++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; doValueThing(i, a, values[i, a]);<br><br>&nbsp; &nbsp; &nbsp; for (int i = 0; i &lt; width; i++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;for (int a = 0; a &lt; height; a++)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; doReachableThing(i, a, reachables[i, a]);<br>&nbsp; &nbsp;}<br>}</div><br>Do I get it?