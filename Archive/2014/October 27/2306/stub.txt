JLJac
115

Yeah, breathing animation needs some work... I think the lizards will somehow boil to death in the water, we&#039;ll see how it ends up looking!<br><br>Some dripping... yeah perhaps! Worth a go!<br><br><b>Update 348</b><br>James and I are really happy about the water, so now we set the next goal to get some rain cycle stuff in order to take steps towards a playable alpha. As I&#039;m already in shader land messing with the palettes, I decided to do the palette fade effect today. <br><br><img src="https://web.archive.org/web/20141215131928im_/http://imgwiz.com/images/2014/10/28/hOYq8.gif" alt="" border="0"><br><br>In the game, I doubt there&#039;ll be any scenario like this, fading from green to orange. I&#039;m just showing it off using palettes I already had. Rather the idea for the actual game is that each palette will also have a darkened &quot;rain is coming&quot; palette, which it&#039;ll start fading to as a warning to get back in your shelter. There might be some intermediary areas between two areas that could use faded palettes as well, but I think we&#039;ll keep that at a minimum because the straight color lerps create some pretty desaturated and boring palettes.<br><br>The effect is accomplished by doing a copypixels operation on the texture the level coloring and water shaders use - meaning that the shaders themselves are not bothered by this at all. The palettes are fairly small (32*8 px) so I haven&#039;t noticed any frame rate drops.<br><br>All the objects are also told to update their colors, so things that use for example the &quot;black&quot; color of the palette will fade with everything else. As a new fade instruction is called, it copies the current palette into the From texture, meaning that a fade can start in the middle of another fade with everything remaining smooth.<br><br>I&#039;ve also re-introduced the slight wetness distortion on the geometry that I had to remove when working with the water - now I just pass a float to the shader letting it know the water level, and don&#039;t do the distortion below that. Distortion + water didn&#039;t work because the water needs to mask itself against the level geometry, and if that geometry moves around there&#039;d be weird little gaps. Also, I updated the cloud shadows passing over the level to make them moving rather than just a static scrolling image.