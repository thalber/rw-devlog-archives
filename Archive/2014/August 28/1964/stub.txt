JLJac
98

I&#039;m working on it - it&#039;s going to drop your jaw when it&#039;s done&nbsp; <img src="https://web.archive.org/web/20141227124122im_/http://forums.tigsource.com/Smileys/derek/whome.gif" alt="Who, Me?" border="0"><br><br><b>Update 299</b><br>Not all days can be good days, and today certainly wasn&#039;t. As you can see from the earlier gifs, the steps the lizards take are too small. I set out to do something about that.<br><br>I identified the problem to be this; when the foot decides that it is trailing too far behind it looks for a new grip position. It finds one that is a good choice at the time, a grip in the terrain somewhere in front of it in the traveling direction.<br><br>The problem is that it takes a little time for the foot to travel there. When it gets there, some five frames or such later, the entire body has moved forward. Suddenly this spot isn&#039;t in front of the body at all, but right beneath it. The fact that the limbs never really get in front of where they are connected to the body makes it so that they trail behind, and look like they are being dragged rather than the source of locomotion.<br><br>My idea for a solution has been that they should have another phase except from just gripping and moving towards a new grip. This phase would be the &quot;catching up&quot; phase. When the limb trails behind, it shouldn&#039;t immediately look for a new place to go, first it should just focus on moving forward. When it catches up with where it&#039;s connected to the body, <i>then</i> it should look for somewhere to grip in front of it.<br><br>This looked very promising to begin with. The lizards stopped the tip-toeing and dragging their legs behind them, and took long, menacing, sneaky strides. Then a bunch of problems started to show up.<br><br>It only really worked on flat floors, in more complex terrain the limbs would reach for places they weren&#039;t actually able to reach. Upon closer inspection I noticed this also happened on the flat floors at times. If all the limbs were synced they&#039;d all reach forward, but with no limbs used for locomotion they wouldn&#039;t ever get there, and the lizard would just lie there pathetically stretching all four feet towards some destination it&#039;s never going to get to. The same could happen when the direction changes, when the lizard got out of stunned mode, etc etc.<br><br>I&#039;ve tried so many workarounds. The most immediate idea was to have the limbs reach far only when the lizard is moving fast, but closer the slower it moves. This worked OK, but with bad timing all limbs could still reach far at the same time, and there it would lie twitching on the floor. I tried a lot of other stuff, such as basing reach distance on how many other limbs are currently connected, and so on and so on.<br><br>You might think &quot;only accept reach destinations that are actually within reach!&quot; but it&#039;s not quite as easy as that. When the reach destination is determined, the body is in another place than where it will be when the foot actually touches ground. The only solution I can come up with on the go is some very sophisticated algorithm that first chooses a preliminary reaching position, and when trying and failing to reach that re-evaluates to the closest valid position...<br><br>Didn&#039;t crack this nut today o_____0 Remember kids, procedural animation isn&#039;t only fun and games! Take heed!