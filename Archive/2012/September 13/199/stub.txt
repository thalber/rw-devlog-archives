JLJac
9

<b>Update 87</b><br>Tons of progress! Been working with inter-level consistensy, and have accomplished quite a few things I&#039;m happy about. First of all, objects are now saved between levels. This means that if you pick up one specific pebble and move it a few tiles and then exit the level, it&#039;ll remain in the same position when you get back, an there is no new pebble spawned in its original position. You can also pick it up, move it to another level, put it on the ground, leave, then come back... yeah you get it. <br><br>The great thing is that objects that are not touched are not saved, so if you enter a room with 100 rocks on the ground and pick up two, the remaining 98 won&#039;t be occupying any memory. Still, if you re-enter the room, there&#039;ll be only 98 rocks on the ground. <br><br>Technically this is done by assigning each object an ID, which consists of what level it belongs in, and where on that level it&#039;s spawned. When entering a level the objects check a list of all the moved/destroyed/held objects in the world, and if it finds its own ID on that list it doesn&#039;t spawn.<br><br>About the same thing is done with lizards. They have the same basic functionality with having their positions saved as you exit a room, and re-loaded when you get back. <br><br>As some of you might remember lizards are trigged by catching flies. Now, if I enter a room having caught 4 flies, and the lizard in that room was triggered at 3, it will now appear out in the level from the start, instead of emerging from its hole, as if it crawled out while you were not there yet. Lizards&#039; health condition is also saved across levels.<br><br>To give some fairness to the system lizards that are loaded from memory or generated out in the environment are never spawned too close to the hole from which the player is emerging. <br><br>All this functionality makes the world seem more like one place rather than a couple of stiched-together levels, and it also adds gameplay aspects. For example, now the world only has a set amount of spears and rocks, and you have to manage them carefully.